<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mrdutq.github.io","root":"/blog/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="立心 立命 继绝学 开太平">
<meta property="og:type" content="website">
<meta property="og:title" content="Jason&#39;s blog">
<meta property="og:url" content="https://mrdutq.github.io/blog/page/8/index.html">
<meta property="og:site_name" content="Jason&#39;s blog">
<meta property="og:description" content="立心 立命 继绝学 开太平">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jason">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://mrdutq.github.io/blog/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Jason's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jason's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/mrdutq" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrdutq.github.io/blog/2022/01/17/%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="立心 立命 继绝学 开太平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/01/17/%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99/" class="post-title-link" itemprop="url">学习网站推荐</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-17 18:56:41" itemprop="dateCreated datePublished" datetime="2022-01-17T18:56:41+08:00">2022-01-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-27 11:46:08" itemprop="dateModified" datetime="2020-09-27T11:46:08+08:00">2020-09-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">分享</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
<!-- 自定义，用于添加摘要图片，文章中不显示。文章开头添加 summary_img: 链接 即可 -->
      
<!-- 自定义结束 -->
          <p>今天在B站翻到了UP主“三太子敖丙”在六月发布的<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1zT4y1E7ev">大学四年自学走来，这些私藏的实用工具/学习网站我贡献出来了</a>，感觉分享的网站对在大学期间自学挺有用的，所以写下来，记录一下。</p>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/">B站</a></p>
<ul>
<li>众所周知，B站是个学习网站</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.icourse163.org">中国大学MOOC</a></p>
</li>
<li><a target="_blank" rel="noopener" href="https://www.imooc.com">IMOOC</a></li>
<li><a target="_blank" rel="noopener" href="https://time.geekbang.org">极客时间</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jikexueyuan.com">极客学院</a></li>
<li><a target="_blank" rel="noopener" href="https://study.163.com">网易云课堂</a></li>
<li><a target="_blank" rel="noopener" href="https://www.baidu.com">百度</a>  </li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com">知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com">GitHub</a></li>
<li><a target="_blank" rel="noopener" href="https://www.51zxw.net">我要自学网</a></li>
<li><a target="_blank" rel="noopener" href="https://www.w3school.com.cn">w3school</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com">菜鸟教程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.douban.com">豆瓣</a></li>
<li><a target="_blank" rel="noopener" href="https://weread.qq.com">微信读书</a></li>
<li><a target="_blank" rel="noopener" href="https://www.csdn.net">CSDN</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com">stackoverflow</a></li>
<li><a target="_blank" rel="noopener" href="https://www.oschina.net">开源中国</a></li>
<li><a target="_blank" rel="noopener" href="https://www.v2ex.com">V2ex</a></li>
<li><a target="_blank" rel="noopener" href="https://www.infoq.cn">infoQ</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youdao.com">有道词典</a></li>
<li><a target="_blank" rel="noopener" href="https://www.yinxiang.com">印象笔记</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrdutq.github.io/blog/2022/01/17/MySQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="立心 立命 继绝学 开太平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/01/17/MySQL/" class="post-title-link" itemprop="url">MySQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-17 18:56:41" itemprop="dateCreated datePublished" datetime="2022-01-17T18:56:41+08:00">2022-01-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-18 20:46:30" itemprop="dateModified" datetime="2022-01-18T20:46:30+08:00">2022-01-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
<!-- 自定义，用于添加摘要图片，文章中不显示。文章开头添加 summary_img: 链接 即可 -->
      
<!-- 自定义结束 -->
          <h1 id="1、数据库的安装"><a href="#1、数据库的安装" class="headerlink" title="1、数据库的安装"></a>1、数据库的安装</h1><h1 id="2、操作数据库"><a href="#2、操作数据库" class="headerlink" title="2、操作数据库"></a>2、操作数据库</h1><h2 id="2-1、数据库的操作（了解）"><a href="#2-1、数据库的操作（了解）" class="headerlink" title="2.1、数据库的操作（了解）"></a>2.1、数据库的操作（了解）</h2><p>1、创建数据库</p>
<blockquote>
<p>CREATE DATABASE [IF NOT EXISTS] myDataBase;</p>
</blockquote>
<p>2、删除数据库</p>
<blockquote>
<p>DROP DATABASE [IF EXISTS] myDataBase;</p>
</blockquote>
<p>3、使用数据库</p>
<blockquote>
<p>— tab上面的点，如果表名或者字段名是一个特殊字符，就需要加 ``</p>
<p>USE <code>school</code></p>
</blockquote>
<p>4、查看数据库</p>
<blockquote>
<p>SHOW DATABASES —查看所有数据库</p>
</blockquote>
<p><strong>学习思路：</strong></p>
<p>·  对照SQLyog可视化历史记录查看SQL语句</p>
<p>·  固定的语法或关键字必须要强行记住。</p>
<h2 id="2-2、数据库的列类型"><a href="#2-2、数据库的列类型" class="headerlink" title="2.2、数据库的列类型"></a>2.2、数据库的列类型</h2><blockquote>
<p>数值</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>类型</th>
<th>数据大小</th>
<th>字节数</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>tinyint</td>
<td>十分小的数据</td>
<td>1个字节</td>
<td></td>
</tr>
<tr>
<td>smallint</td>
<td>较小的数据</td>
<td>2个字节</td>
<td></td>
</tr>
<tr>
<td>mediumint</td>
<td>中等大小的数据</td>
<td>3个字节</td>
<td></td>
</tr>
<tr>
<td><strong>int</strong></td>
<td><strong>标准的整数</strong></td>
<td><strong>4个字节</strong></td>
<td><strong>最常用</strong></td>
</tr>
<tr>
<td>bigint</td>
<td>较大的数据</td>
<td>8个字节</td>
<td></td>
</tr>
<tr>
<td>float</td>
<td>浮点数</td>
<td>4个字节</td>
<td></td>
</tr>
<tr>
<td>double</td>
<td>浮点数</td>
<td>8个字节</td>
<td>存在精度问题</td>
</tr>
<tr>
<td>decimal</td>
<td>字符串形式的浮点数</td>
<td></td>
<td>金融计算的时候，一般会使用decimal。</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>字符串</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
<th>大小</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>char</td>
<td>字符串固定大小的</td>
<td>0~255</td>
<td></td>
</tr>
<tr>
<td><strong>varchar</strong></td>
<td><strong>可变字符串</strong></td>
<td><strong>0~65535</strong></td>
<td><strong>常用的变量、String</strong></td>
</tr>
<tr>
<td>tinytext</td>
<td>微型文本</td>
<td>2^8-<strong>1</strong></td>
<td></td>
</tr>
<tr>
<td><strong>text</strong></td>
<td><strong>文本串</strong></td>
<td><strong>2^16-1</strong></td>
<td><strong>保存大文本</strong></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>时间日期</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>YYYY-MM-DD</td>
<td>日期格式</td>
</tr>
<tr>
<td>time</td>
<td>HH:mm:ss</td>
<td>时间格式</td>
</tr>
<tr>
<td><strong>datetime</strong></td>
<td><strong>YYYY-MM-DD HH:mm:ss</strong></td>
<td><strong>最常用的时间格式</strong></td>
</tr>
<tr>
<td><strong>timestamp</strong></td>
<td><strong>时间戳，1970年1月1日到现在的毫秒数</strong></td>
<td><strong>常用</strong></td>
</tr>
<tr>
<td>year</td>
<td>年份表示</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>null</p>
</blockquote>
<ul>
<li>没有值、未知</li>
<li>注意：不要使用NULL进行运算，结果为NULL</li>
</ul>
<h2 id="2-3、数据库的字段类型（重点）"><a href="#2-3、数据库的字段类型（重点）" class="headerlink" title="2.3、数据库的字段类型（重点）"></a>2.3、数据库的字段类型（重点）</h2><p> <strong>Unsigned</strong></p>
<ul>
<li>无符号整数</li>
<li>表示了该列不能声明为负数</li>
</ul>
<p><strong>zerofill</strong></p>
<ul>
<li>0填充</li>
<li>不足的位数，使用0来填充。int(3), 5—&gt; 005</li>
</ul>
<p><strong>自增</strong></p>
<ul>
<li>自动在上一条记录的基础上+1（默认）</li>
<li>通常用来设计唯一的主键~ index，必须是整数类型。</li>
<li>可以自定义设计主键自增的起始值和步长。</li>
</ul>
<p><strong>非空 NULL not null</strong></p>
<ul>
<li>设置为not null时，如果不给他赋值，就会报错！</li>
<li>NULL，如果不填写值，默认就是NULL</li>
</ul>
<p><strong>默认</strong></p>
<ul>
<li>设置默认的值</li>
<li>sex，默认为难，如果不指定该列的值，则会有默认的值。</li>
</ul>
<h2 id="2-4、创建数据库表（重点）"><a href="#2-4、创建数据库表（重点）" class="headerlink" title="2.4、创建数据库表（重点）"></a>2.4、创建数据库表（重点）</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 目标：创建一个school数据库
-- 创建学生表（列、字段） 使用SQL创建
-- 学号int 登录密码varchar（20） 姓名，性别varchar（2），出生日期（datatime），家庭住址，email

-- 注意点，使用英文（），表的名称和字段尽量使用&#96;&#96;括起来。
-- AUTO_INCRAMENT 自增
-- 字符串使用 单引号括起来
-- 所有语句后面加英文的逗号，最后一个语句不用加
CREATE TABLE IF NOT EXISTS &#96;student&#96;(
	&#96;id&#96; INT(4) NOT NULL AUTO_INCREMENT COMMENT &#39;学号&#39;,
    &#96;name&#96; VARCHAR(30) NOT NULL DEFAULT &#39;匿名&#39; COMMENT &#39;姓名&#39;,
    &#96;pwd&#96; VARCHAR(20) NOT NULL DEFAULT &#39;123456&#39; COMMENT &#39;密码&#39;,
    &#96;sex&#96; VARCHAR(2) NOT NULL DEFAULT &#39;女&#39; COMMENT &#39;性别&#39;,
    &#96;birthday&#96; DATETIME DEFAULT NULL COMMENT &#39;出生日期&#39;,
    &#96;address&#96; VARCHAR(100) DEFAULT NULL COMMENT &#39;家庭住址&#39;,
    &#96;email&#96; VARCHAR(50) DEFAULT NULL COMMENT &#39;邮箱&#39;,
    PRIMARY KEY (&#96;id&#96;)
)ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>格式</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">CREATE TABLE [IF NOT EXISTS] 表名(
	&#96;字段名&#96; 列类型[属性][索引][注释],
    &#96;字段名&#96; 列类型[属性][索引][注释],
    &#96;字段名&#96; 列类型[属性][索引][注释],
    ......
    &#96;字段名&#96; 列类型[属性][索引][注释],
)[表类型][字符集设置][注释]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>常用命令</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SHOW CREATE DATABASE school  -- 查看创建数据库的语句
SHOW CREATE TABLE student  -- 查看student数据表的定义语句
DESC student  -- 显示表的结构<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="2-5、数据表的类型"><a href="#2-5、数据表的类型" class="headerlink" title="2.5、数据表的类型"></a>2.5、数据表的类型</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 关于数据库引擎
&#x2F;*
INNODB 默认使用
MYISAM 早些年使用的
*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>MYISAM</th>
<th>INNODB</th>
</tr>
</thead>
<tbody>
<tr>
<td>事务支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>数据行锁定</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>外键约束</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>全文索引</td>
<td>支持</td>
<td>不支持(3.8版本之后支持)</td>
</tr>
<tr>
<td>表空间的大小</td>
<td>较小</td>
<td>较大，约为MYISAM的2倍</td>
</tr>
</tbody>
</table>
</div>
<p><strong>常规使用操作</strong></p>
<ul>
<li>MYISAM 节约空间，速度较快</li>
<li>INNODB 安全性高，事物的处理，多表多用户操作</li>
</ul>
<blockquote>
<p>在物理空间存在的位置</p>
</blockquote>
<p>所有的数据库文件都存在data目录下</p>
<p>本质还是文件的存储！</p>
<p>MySQL引擎在物理文件上的区别</p>
<ul>
<li>INNODB在数据库表中只有一个*.frm文件，以及上级目录下的ibdata1文件</li>
<li>MYISAM对应文件<ul>
<li>*frm -表结构的定义文件</li>
<li>*.MYD -数据文件（data）</li>
<li>*.MYI -索引文件（index）</li>
</ul>
</li>
</ul>
<blockquote>
<p>设置数据库表的字符集编码</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">CHARSET&#x3D;utf8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>不设置的话，会是mysql默认的字符集编码（不支持中文！）</p>
<p>MySQL的默认编码时Latin1，不支持中文</p>
<p>在my.ini中配置默认的编码</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">character-set-server&#x3D;utf8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="2-6、删除数据库表"><a href="#2-6、删除数据库表" class="headerlink" title="2.6、删除数据库表"></a>2.6、删除数据库表</h2><blockquote>
<p>修改</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 修改表名 ALTER TABLE 旧表名 RENAME AS 新表名
ALTER TABLE teacher RENAME AS teachers
-- 增加表的字段 ALTER TABLE 表名 ADD 字段名 列属性
ALTER TABLE teacher1 ADD age INT(11)
-- 修改表的字段（重命名，修改约束）
-- ALTER TABLE 表名 MODIFY 字段名 列属性
ALTER TABLE teacher1 MODIFY age VARCHAR(11)  -- 修改约束
-- ALTER TABLE 表名 CHANGE 旧字段名 新字段名 列属性
ALTER TABLE teacher1 CHANGE age age1 INT(11)  -- 字段重命名<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>删除</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 删除表的字段 ALTER TABLE 表名 DROP 字段名
ALTER TABLE teacher1 DROP age1
-- 删除表(如果存在表才删除)
DROP TABLE [IF EXISTS] teacher1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>所有的创建和删除操作尽量加上判断，以面报错</strong></p>
<p>注意点：</p>
<ul>
<li>``所有的字段名，使用这个符号包裹！</li>
<li>注释用—  或者/**/</li>
<li>SQL关键字大小写不敏感，建议写小写</li>
<li>所有符号全部用英文！</li>
</ul>
<h1 id="3、MySQL数据管理"><a href="#3、MySQL数据管理" class="headerlink" title="3、MySQL数据管理"></a>3、MySQL数据管理</h1><h2 id="3-1、外键"><a href="#3-1、外键" class="headerlink" title="3.1、外键"></a>3.1、外键</h2><blockquote>
<p>方式一：在创建表的时候，增加约束（麻烦，复杂）</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 创建年级表
CREATE TABLE &#96;grade&#96;(
	&#96;gradeid&#96; int(10) not null auto_increment comment &#39;年级id&#39;,
    &#96;gradename&#96; carchar(50) not null comment &#39;年级名称&#39;,
    primary key(&#96;gradeid&#96;)
)ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8

-- 创建学生表
CREATE TABLE IF NOT EXISTS &#96;student&#96;(
	&#96;id&#96; INT(4) NOT NULL AUTO_INCREMENT COMMENT &#39;学号&#39;,
    &#96;name&#96; VARCHAR(30) NOT NULL DEFAULT &#39;匿名&#39; COMMENT &#39;姓名&#39;,
    &#96;pwd&#96; VARCHAR(20) NOT NULL DEFAULT &#39;123456&#39; COMMENT &#39;密码&#39;,
    &#96;sex&#96; VARCHAR(2) NOT NULL DEFAULT &#39;女&#39; COMMENT &#39;性别&#39;,
    &#96;birthday&#96; DATETIME DEFAULT NULL COMMENT &#39;出生日期&#39;,
    -- 学生表的gradeid字段要去引用年级表的gradeid
    &#96;gradeid&#96; int(10) not null comment &#39;学生的年级&#39;,
    &#96;address&#96; VARCHAR(100) DEFAULT NULL COMMENT &#39;家庭住址&#39;,
    &#96;email&#96; VARCHAR(50) DEFAULT NULL COMMENT &#39;邮箱&#39;,
    PRIMARY KEY (&#96;id&#96;),
    -- 1、定义外键key
    key &#96;FK_gradeid&#96; (&#96;gradeid&#96;),
    -- 给这个外键添加约束（执行引用） references 引用
    constraint &#96;FK_gradeid&#96; foreign key(&#96;gradeid&#96;) references &#96;grade&#96;(&#96;gradeid&#96;)
)ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>删除有外键关系的表的时候，必须要先删除引用别人的表（从表），再删除被引用的表（主表）</strong></p>
<blockquote>
<p>方式二：创建表成功后，添加外键约束</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 创建年级表
CREATE TABLE &#96;grade&#96;(
	&#96;gradeid&#96; int(10) not null auto_increment comment &#39;年级id&#39;,
    &#96;gradename&#96; carchar(50) not null comment &#39;年级名称&#39;,
    primary key(&#96;gradeid&#96;)
)ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8

-- 创建学生表
CREATE TABLE IF NOT EXISTS &#96;student&#96;(
	&#96;id&#96; INT(4) NOT NULL AUTO_INCREMENT COMMENT &#39;学号&#39;,
    &#96;name&#96; VARCHAR(30) NOT NULL DEFAULT &#39;匿名&#39; COMMENT &#39;姓名&#39;,
    &#96;pwd&#96; VARCHAR(20) NOT NULL DEFAULT &#39;123456&#39; COMMENT &#39;密码&#39;,
    &#96;sex&#96; VARCHAR(2) NOT NULL DEFAULT &#39;女&#39; COMMENT &#39;性别&#39;,
    &#96;birthday&#96; DATETIME DEFAULT NULL COMMENT &#39;出生日期&#39;,
    -- 学生表的gradeid字段要去引用年级表的gradeid
    &#96;gradeid&#96; int(10) not null comment &#39;学生的年级&#39;,
    &#96;address&#96; VARCHAR(100) DEFAULT NULL COMMENT &#39;家庭住址&#39;,
    &#96;email&#96; VARCHAR(50) DEFAULT NULL COMMENT &#39;邮箱&#39;,
    PRIMARY KEY (&#96;id&#96;)
)ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8

-- 创建表的时候没有外键关系
alter table &#96;student&#96;
add constraint &#96;FK_gradeid&#96; foreign key(&#96;gradeid&#96;) references &#96;grade&#96;(&#96;grade&#96;);

-- alter table 表名 add constraint &#96;约束名&#96; foreign key(&#96;作为外键的列&#96;) references &#96;哪个表&#96;(&#96;哪个字段&#96;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>以上两种方法都是物理外键，数据库级别的外键，不建议使用！（避免数据库过多造成困扰，了解即可）</strong></p>
<p>==最佳实践==</p>
<ul>
<li>数据库就是单纯的表，只用来存数据，只有行（数据）和列（字段）</li>
<li>可以使用多张表的数据，想使用外键（程序去实现）</li>
</ul>
<h2 id="3-2、DML语言（全部记住）"><a href="#3-2、DML语言（全部记住）" class="headerlink" title="3.2、DML语言（全部记住）"></a>3.2、DML语言（全部记住）</h2><p><strong>数据库的意义</strong>：数据存储、数据管理</p>
<p>DML语言：数据库操作语言</p>
<ul>
<li>insert</li>
<li>update</li>
<li>delete</li>
</ul>
<h2 id="3-3、添加"><a href="#3-3、添加" class="headerlink" title="3.3、添加"></a>3.3、添加</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 插入语句（添加）
-- insert into 表名([字段名1,字段名2,字段名3,...])value(&#39;值1&#39;,&#39;值2&#39;,&#39;值3&#39;,...)
insert into &#96;grade&#96; (&#96;gradename&#96;) values(&#39;大四&#39;)

-- 由于主键自增，我们可以省略（如果不写表的字段，它就会一一匹配）
insert into &#96;grade&#96;values(&#39;大三&#39;)

-- 一般写插入语句骂我们一定要数据和字段一一对应

-- 插入多个字段
insert into &#96;grade&#96;(&#96;gradename&#96;)values(&#39;大二&#39;),(&#39;大一&#39;)

-- 
insert into &#96;student&#96;(&#96;name&#96;)values(&#39;张三&#39;)

insert into &#96;student&#96;(&#96;name&#96;,&#96;pwd&#96;,&#96;sex&#96;)values(&#39;张三&#39;,&#39;123456&#39;,&#39;男&#39;)

insert into &#96;student&#96;(&#96;name&#96;,&#96;pwd&#96;,&#96;sex&#96;)
values(&#39;李四&#39;,&#39;123123&#39;,&#39;男&#39;),(&#39;王五&#39;,&#39;123111&#39;,&#39;女&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>语法：</strong><code>insert into 表名([字段名1,字段名2,字段名3,...])value(&#39;值1&#39;,&#39;值2&#39;,&#39;值3&#39;,...)</code></p>
<p><strong>注意事项：</strong></p>
<ol>
<li>字段和字段之间使用<strong>英文逗号</strong>隔开</li>
<li>字段是<strong>可以省略</strong>的，但是后面的值必须是一一对应的，不能少！</li>
<li>可以同时插入多条数据，values后面的值，需要使用逗号隔开，<code>values(),(),...</code></li>
</ol>
<h2 id="3-4-修改"><a href="#3-4-修改" class="headerlink" title="3.4 修改"></a>3.4 修改</h2><blockquote>
<p>update  修改谁 （条件） set 原来的值=新值</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 修改学员名字
update &#96;student&#96; set &#96;name&#96;&#x3D;&#39;杜天琦&#39; where id&#x3D;1
-- 不指定条件，会改变所有表！谨慎操作！
update &#96;student&#96; set &#96;name&#96;&#x3D;&#39;长江七号&#39;

-- 修改多个属性，逗号隔开
update &#96;student&#96; set &#96;name&#96;&#x3D;&#39;杜天琦&#39;,&#96;email&#96;&#x3D;&#39;781357011@qq.com&#39; where &#96;id&#96;&#x3D;1; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>条件：where子句 运算符 id等于某个值，大于某个值，在某个区间内修改…</p>
<p>操作符会返回布尔值</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
<th>范围</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>等于</td>
<td>5=6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;&gt;或!=</td>
<td>不等于</td>
<td>5&lt;&gt;6或5!=6</td>
<td>true</td>
</tr>
<tr>
<td>&lt;=</td>
<td>小于等于</td>
<td>5&lt;=6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;=</td>
<td>大于等于</td>
<td>5&gt;=6</td>
<td>false</td>
</tr>
<tr>
<td>between…and…</td>
<td>在某个范围内</td>
<td>[2,5]</td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td>&amp;&amp;，我和你</td>
<td>5&gt;1 and 1&gt;2</td>
<td>false</td>
</tr>
<tr>
<td>OR</td>
<td>\</td>
<td>\</td>
<td>，我或你</td>
<td>5&gt;1 or 1&gt;2</td>
<td>true</td>
</tr>
</tbody>
</table>
</div>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 通过多个条件定位数据
update &#96;student&#96; set &#96;name&#96;&#x3D;&#39;杜天琦&#39; where &#96;name&#96; &#x3D;&#39;长江7号&#39; or &#96;sex&#96;&#x3D;&#39;女&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>语法：</strong><code>update 表名 set colnum_name = value,[colnum_num = value,...] where [条件]</code></p>
<p><strong>注意：</strong></p>
<ul>
<li><p>colnum_name  是数据库的列，尽量带上`` </p>
</li>
<li><p>条件，是筛选的条件，如果没有指定，会修改所有的列，谨慎操作！</p>
</li>
<li><p>value可以是一个具体的值，也可以是一个变量</p>
<ul>
<li><code>``mysql
update</code>student<code>set</code>birthday<code>=current_time where</code>name<code>=&#39;长江7号&#39; and</code>sex`=’女’<pre class="line-numbers language-none"><code class="language-none">
* 多个属性的设置，使用逗号隔开



## 3.5 删除

&gt; delete	命令

**语法：**&#96;delete from 表名[where 条件]&#96;

&#96;&#96;&#96;mysql
-- 删除数据（避免这样写）
delete from &#96;student&#96; where id&#x3D;1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>truncate 命令</p>
</blockquote>
<p>作用：完全清空一个数据库表，表的结构和索引约束不会变！</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 清空student表
truncate &#96;student&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>delete 与 truncate 的区别</p>
</blockquote>
<ul>
<li>相同点：都能删除数据，都不会删除表结构</li>
<li>truncate 重新设置自增列（计数器从1开始） delete 删除表不会影响自增列</li>
<li>truncate 不会影响事物</li>
</ul>
<p>了解即可：delete删除的问题，重启数据库，现象</p>
<ul>
<li>INNODB 自增列会从1开始（存在内存中，断电即失）</li>
<li>MYISAM 继续从上一个自增量开始（存在文件中，不会丢失）</li>
</ul>
<h1 id="4、DQL查询数据（最重点的内容）"><a href="#4、DQL查询数据（最重点的内容）" class="headerlink" title="4、DQL查询数据（最重点的内容）"></a>4、DQL查询数据（最重点的内容）</h1><h2 id="4-1-DQL"><a href="#4-1-DQL" class="headerlink" title="4.1 DQL"></a>4.1 DQL</h2><p>Data Query Language：数据查询语言</p>
<ul>
<li>所有查询操作都用它 Select</li>
<li>简单的查询、复杂的查询都能做</li>
<li><strong>数据库重最核心的语言，最重要的语句</strong></li>
<li>使用频率最高</li>
</ul>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- select 完整语法，关键词顺序不能颠倒
select all|distinct 要查询的字段
from 表名
XXX join 要连接的表
on 等值判断
where (具体条件|子查询语句)
group by 通过哪个字段分组
having 过滤分组后的信息，与where相同，位置不同
order by 通过哪个字段排序 ASC升序 | DESC 降序
limit startIndex,pageSize<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-2-指定查询字段"><a href="#4-2-指定查询字段" class="headerlink" title="4.2 指定查询字段"></a>4.2 指定查询字段</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 查询全部学生:select * from 表名
select * from student

-- 查询指定字段
select &#96;StudentNo&#96;,&#96;StudentName&#96; from studnet

-- 别名，给结果起一个名字 AS；可以给字段起别名，也可以给表起别名
select &#96;StudentNo&#96; AS 学号,&#96;StudentName&#96; AS 学生姓名 from student AS s

-- 函数 Concat(a,b)
select concat(&#39;姓名：&#39;, StudentName) AS 新名字 from student<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>语法：</strong><code>select 字段... from 表</code></p>
<blockquote>
<p>有的时候，列名字不是那么的知名见意，可以起别名：AS</p>
<p><code>字段名 as 别名</code></p>
<p><code>表名 as 别名</code></p>
<p>去重（distinct）</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 查询一下有哪些同学参加了考试、成绩

-- 查询全部的考试成绩
select * from result  
-- 查询有哪些同学参加了考试
select &#96;StudentNo&#96; from result 

-- 去除重复数据,相同的数据只显示一条
select distinct &#96;StudentNo&#96; from result<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>数据库的列</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 查看系统的版本
select version()

-- 计算100*3-1 保存在‘计算结果’列中
select 100*3-1 AS 计算结果

-- 查询自增的步长(变量)
select @@auto_increment_increment

-- 学员考试成绩 +1 分查看
select &#96;StudentNo&#96;,&#96;StudentResult&#96;+1 AS &#39;提分后&#39; from result<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>数据库的表达式：文本值、列、Null、函数、计算表达式、系统变量…</strong></p>
<h2 id="4-3-where条件子句"><a href="#4-3-where条件子句" class="headerlink" title="4.3 where条件子句"></a>4.3 where条件子句</h2><p> 作用：检索数据中<strong>符合条件</strong>的值</p>
<blockquote>
<p>逻辑运算符</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>and或者&amp;&amp;</td>
<td>a and b或者a&amp;&amp;b</td>
<td>逻辑与，两个都为真，结果为真</td>
</tr>
<tr>
<td>or 或者\</td>
<td>\</td>
<td></td>
<td>a or b 或者 a\</td>
<td>\</td>
<td>b</td>
<td>逻辑或，一个为真，结果为真</td>
</tr>
<tr>
<td>not 或者!</td>
<td>not a或者!a</td>
<td>逻辑非，真为假，假为真</td>
</tr>
</tbody>
</table>
</div>
<p><strong>运算符尽量使用英文字母</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select &#96;StudentNo&#96;,&#96;StudentResult&#96; from result

-- 查询考试成绩在95~100分之间
select &#96;StudentNo&#96;,&#96;StudentResult&#96; from result
where StudentResult&gt;&#x3D;95 and StudentResult&lt;&#x3D;100

-- 除了1000号学生之外的学生的成绩
select &#96;StudentNo&#96;,&#96;StudentResult&#96; from result
where StudentNo!&#x3D;1000;

select &#96;StudentNo&#96;,&#96;StudentResult&#96; from result
where not StudentNo&#x3D;1000;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>模糊查询：比较运算符</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>IS NULL</td>
<td>a is null</td>
<td>如果操作符为null，结果为真</td>
</tr>
<tr>
<td>is not null</td>
<td>a is not null</td>
<td>如果操作符为not null，结果为真</td>
</tr>
<tr>
<td>between and</td>
<td>a between b and c</td>
<td>若a 在b和c之间，结果为真</td>
</tr>
<tr>
<td><strong>LIKE</strong></td>
<td>a like b</td>
<td>SQL匹配，如果a匹配b，则结果为真</td>
</tr>
<tr>
<td><strong>in</strong></td>
<td>a in (a1,a2,a3…)</td>
<td>假如a在a1,a2,a3…某一个中，则结果为真</td>
</tr>
</tbody>
</table>
</div>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 模糊查询
-- between and
select &#96;StudentNo&#96;,&#96;StudentResult&#96; from result
where StudentResult between 95 and 100

-- like	%（代表0到任意个字符）	_（一个字符）
-- 查询姓刘的同学
select &#96;StudentNo&#96;,&#96;StudentName&#96; from student
where StudentName like &#39;刘%&#39;
-- 查询姓刘的同学，并且名字只有两个字。
select &#96;StudentNo&#96;,&#96;StudentName&#96; from student
where StudentName like &#39;刘_&#39;
-- 查询姓刘的同学，并且名字有三个字
select &#96;StudentNo&#96;,&#96;StudentName&#96; from student
where StudentName like &#39;刘__&#39;
-- 查询名字中间有嘉字的同学 %嘉%
select &#96;StudentNo&#96;,&#96;StudentName&#96; from student
where StudentName like &#39;%嘉%&#39;


-- in（具体的一个或多个值，不能用%、_）
-- 查询1001、1002、1003号学员
select &#96;StudentNo&#96;,&#96;StudentName&#96; from student
where StudentNo in (1001,1002,1003);
-- 查询在北京的学生
select &#96;StudentNo&#96;,&#96;StudentResult&#96; from student
where &#96;address&#96; in(&#39;安徽&#39;,&#39;河南洛阳&#39;);

-- null、 not null
-- 查询地址为空的学生
select &#96;StudentNo&#96;,&#96;StudentName&#96; from student
where &#96;address&#96;&#x3D;&#39;&#39; or address is null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-4、联表查询"><a href="#4-4、联表查询" class="headerlink" title="4.4、联表查询"></a>4.4、联表查询</h2><blockquote>
<p>join 对比 </p>
</blockquote>
<p><img src="C:\Users\沧海笑\AppData\Roaming\Typora\typora-user-images\7种连接查询.png" alt="7种连接查询"></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 联表查询
-- 查询参加了考试的学生（学号、姓名、科目编号、分数）
select * from student
select * from result

&#x2F;*思路
1、分析需求、分析查询的字段来自哪些表，（连接查询）
2、确定使用哪种连接查询？ 7种
确定交叉点（这两个表中哪个数据是相同的）
判断的条件：学生表中的StudentNo &#x3D; 成绩表中的StudentNo
*&#x2F;

-- join on 连接查询，on代表判断的条件
-- where 等值查询

-- inner join 
select s.studentNo,studentName,SubjectNo,StudentResult
from student as s
inner join result as r
where s.sutdentNo &#x3D; r.studentNo

-- right join
select s.studentNo,studentName,SubjectNo,StudentResult
from student s -- student as s可以省略as
right join result r
on s.sutdentNo &#x3D; r.studentNo -- where用于单个查询，on

-- left join
select s.studentNo,studentName,SubjectNo,StudentResult
from student s 
left join result r  
on s.sutdentNo &#x3D; r.studentNo <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>inner join</td>
<td>如果表中至少有一个匹配，则返回行</td>
</tr>
<tr>
<td>left join</td>
<td>从左表中返回所有的值，即使右表中没有匹配</td>
</tr>
<tr>
<td>right  join</td>
<td>从右表中返回所有的值，即使左表中没有匹配</td>
</tr>
</tbody>
</table>
</div>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 我要查询哪些数据：select...
-- 从哪几个表中查：from 表 XXX join 连接的表 on 交叉条件
-- 假设存在一种多张表查询，一步一步来，先查询两张表，然后再慢慢增加

-- from a left join b 以表a为基准
-- from a right join b 以表b为基准<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>自连接</p>
</blockquote>
<p>自己的表和自己的表连接，核心：<strong>一张表拆为两张一样的表</strong>即可</p>
<p> 父类表 (category)</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>categoryId</th>
<th>categoryName</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>信息技术</td>
</tr>
<tr>
<td>3</td>
<td>软件开发</td>
</tr>
<tr>
<td>5</td>
<td>美术设计</td>
</tr>
</tbody>
</table>
</div>
<p>子类表(category)</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>pid</th>
<th>categoryId</th>
<th>categoryName</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>4</td>
<td>数据库</td>
</tr>
<tr>
<td>2</td>
<td>8</td>
<td>办公信息</td>
</tr>
<tr>
<td>3</td>
<td>6</td>
<td>web开发</td>
</tr>
<tr>
<td>5</td>
<td>7</td>
<td>ps技术</td>
</tr>
</tbody>
</table>
</div>
<p><strong>操作：查询父类对应的子类关系</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>父类</th>
<th>子类</th>
</tr>
</thead>
<tbody>
<tr>
<td>信息技术</td>
<td>办公信息</td>
</tr>
<tr>
<td>软件开发</td>
<td>数据库</td>
</tr>
<tr>
<td>软件开发</td>
<td>web开发</td>
</tr>
<tr>
<td>美术设计</td>
<td>ps技术</td>
</tr>
</tbody>
</table>
</div>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 查询父子信息，把一张表看为两个一模一样的表
select a.&#96;categoryName&#96; as &#39;父栏目&#39;, b.&#96;categoryName&#96; as &#39;子栏目&#39;
from &#96;category&#96; as a, &#96;category&#96; as b
where a.&#96;categoryId&#96; &#x3D; b.&#96;pid&#96;

select s.&#96;StudentNo&#96;,&#96;StudentName&#96;,&#96;SubjectName&#96;,&#96;StudentResult&#96;
from studnet s
inner join &#96;result&#96; r
on s.StudentNo &#x3D; r.StudentNo
inner join &#96;subject&#96; sub
on r.&#96;SubjectNo&#96; &#x3D; sub.&#96;SubjectNo&#96;
where subjectName &#x3D; &#39;数据库结构-1&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-5-分页（limit）和排序（order-by）"><a href="#4-5-分页（limit）和排序（order-by）" class="headerlink" title="4.5 分页（limit）和排序（order by）"></a>4.5 分页（limit）和排序（order by）</h2><blockquote>
<p><strong>排序： 升序ASC、降序DESC</strong></p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 查询的结果，根据成绩排序
-- order by 通过那个字段排序，怎么排
select s.&#96;StudentNo&#96;,&#96;StudentName&#96;,&#96;SubjectName&#96;,&#96;StudentResult&#96;
from studnet s
inner join &#96;result&#96; r
on s.StudentNo &#x3D; r.StudentNo
inner join &#96;subject&#96; sub
on r.&#96;SubjectNo&#96; &#x3D; sub.&#96;SubjectNo&#96;
where subjectName &#x3D; &#39;数据库结构-1&#39;
order by StudentResult ASC<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>分页</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 为什么分页？ 
-- 100万条数据
-- 缓解数据库压力，给人的体验更好，瀑布流

-- 网页应用： 当前页码、总页数
-- limit 0,5	1~5
-- limit 1,5	2~6
select s.&#96;StudentNo&#96;,&#96;StudentName&#96;,&#96;SubjectName&#96;,&#96;StudentResult&#96;
from studnet s
inner join &#96;result&#96; r
on s.StudentNo &#x3D; r.StudentNo
inner join &#96;subject&#96; sub
on r.&#96;SubjectNo&#96; &#x3D; sub.&#96;SubjectNo&#96;
where subjectName &#x3D; &#39;数据库结构-1&#39;
order by StudentResult ASC
limit 1,5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>语法：</strong><code>limit 查询起始下标，pageSize</code></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 分页，每页只显示五条数据
-- 语法：limit 起始值，页面的大小

-- 第一页: limit 0,5 			(1-1)*5
-- 第二页: limit 5,5 			(2-1)*5
-- 第三页: limit 10,5 			(3-1)*5
-- 第n页: limit (n-1)*5,5 	(n-1)*5
-- 起始值：(n-1)*pageSize；pageSize：页面大小；当前页数：n
-- 总页数：数据总数&#x2F;页面大小<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-6、子查询"><a href="#4-6、子查询" class="headerlink" title="4.6、子查询"></a>4.6、子查询</h2><p><strong>本质：</strong>在where语句中嵌套一个查询语句</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 1、查询《数据库结构-1》的所有考试结果（学号、科目编号、成绩），降序排列
-- 方式一：使用连接查询
select &#96;StudentNo&#96;,r.&#96;SubjectNo&#96;,&#96;StudentResult&#96;
from &#96;result r
inner join &#96;subject&#96; sub
on r.SubjectName &#x3D; sub.SubjectNo
where SubjectName &#x3D; &#39;数据库结构-1&#39;
order by StudentResult DESC

-- 方式二：使用子查询（由里及外）
select &#96;StudentNo&#96;,&#96;SubjectNo&#96;,&#96;StudentResult&#96;
from &#96;result&#96;
where StudentNo&#x3D; (
	-- 查询所有 数据库结构-1 的学生学号
    select StudentNo 
    from &#96;subject&#96;
    where SubjectName &#x3D; &#39;数据库结构-1&#39;
)
order by StudentResult DESC

-- 查询分数不小于80分的学会的学号和姓名
select s.&#96;StudentNo&#96;,&#96;StudentName&#96;
from &#96;student&#96; s
inner join &#96;result&#96; r
on r.&#96;StudentNo&#96; &#x3D; s.&#96;StudentNo&#96;
where &#96;StudentResult&#96;&gt;&#x3D;80

-- 在这个基础上增加一个科目，高等数学-2
select s.&#96;StudentNo&#96;,&#96;StudentName&#96;
from &#96;student&#96; s
inner join &#96;result&#96; r
on r.&#96;StudentNo&#96; &#x3D; s.&#96;StudentNo&#96;
where &#96;StudentResult&#96;&gt;&#x3D;80 and &#96;SubjectNo&#96;&#x3D;(
    -- 查询 高等数学-2 的SubjectNo
    select SubjectNo
    from &#96;subject&#96;
    where &#96;SubjectName&#96;&#x3D;&#39;高等数学-2&#39;
)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-7、分组（group-by）和过滤（having）"><a href="#4-7、分组（group-by）和过滤（having）" class="headerlink" title="4.7、分组（group by）和过滤（having）"></a>4.7、分组（group by）和过滤（having）</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 查询不同课程的平均分，最高分，最低分，平均分大于80
-- 核心：根据不同的课程分组

select SubjectName,avg(StudnetResult)as平均分,max(StudentResult)as最高分，min(StudentResult)as最低分
from result r
inner join &#96;subject&#96; sub
on r.&#96;SubjectNo&#96;&#x3D;sub.&#96;SubjectNo&#96;
Group by r.SubjectNo  -- 根据什么字段分组
having 平均分&gt;80<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="5、MySQL函数"><a href="#5、MySQL函数" class="headerlink" title="5、MySQL函数"></a>5、MySQL函数</h1><h2 id="5-1、常用函数（不常用）"><a href="#5-1、常用函数（不常用）" class="headerlink" title="5.1、常用函数（不常用）"></a>5.1、常用函数（不常用）</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 数学运算
select ABS(-8)  -- 取绝对值
select CEILING(9.4)  -- 向上取整
select FLOOR(9.4)  -- 向下取整
select RAND()  -- 返回一个0~1之间的随机数
select SIGN(-10)  -- 判断一个数的符号，负数返回-1，整数返回1

-- 字符串函数
select CHAR_LENGTH(&#39;即使再小的帆也能远航&#39;)  -- 字符串长度
select CONCAT(&#39;我&#39;,&#39;和&#39;,&#39;你&#39;)  -- 拼接字符串
select INSERT(&#39;我爱编程helloworld&#39;,1,2,&#39;超级热爱&#39;)  -- 查询、从某个位置开始替换某个长度的串
select LOWER(&#39;DuTianqi&#39;)  -- 小写字母
select UPPER(&#39;DuTianqi&#39;)  -- 大写字母
select REPLACE(&#39;坚持就能成功&#39;,&#39;坚持&#39;,&#39;努力&#39;)  -- 替换出现的指定的字符串
select SUBSTR(&#39;坚持就能成功&#39;,4,6)  -- 返回指定的子字符串（源字符串，截取的位置，截取的长度）
select REVERSE(&#39;清晨我上马&#39;)  -- 反转

-- 时间和日期函数（记住）
select CURRENT_DATE()  -- 获取当前日期
select CURDATE() -- 获取当前日期
select NOW()  -- 获取当前时间
select LOCALTIME()  -- 获取本地时间
select SYSDATE()  -- 获取系统时间

select YEAR(NOW())
select MONTH(NOW())
select DAY(NOW())
select HOUR(NOW())
select MINUTE(NOW())
select SECOND(NOW())

-- 系统函数
select SYSTEM_USER()  -- 系统当前用户
select USER()
select VERSION()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="5-2、聚合函数（常用）"><a href="#5-2、聚合函数（常用）" class="headerlink" title="5.2、聚合函数（常用）"></a>5.2、聚合函数（常用）</h2><div class="table-container">
<table>
<thead>
<tr>
<th>函数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>count()</strong></td>
<td>计数</td>
</tr>
<tr>
<td>sum()</td>
<td>求和</td>
</tr>
<tr>
<td>avg()</td>
<td>平均值</td>
</tr>
<tr>
<td>max()</td>
<td>最大值</td>
</tr>
<tr>
<td>min()</td>
<td>最小值</td>
</tr>
</tbody>
</table>
</div>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- count()，统计表中的数据 
select count(列名) from 表名  -- 会忽略所有的null值
select count(*) from 表名  -- 不会忽略null值，
select count(1) from 表名  -- 不会忽略null值

-- sum()
select sun(&#96;StudentResult&#96;) as 总和 from result

-- avg()
select avg(&#96;StudentResult&#96;) as 平均分 from result

-- max()
select max(&#96;StudentResult&#96;) as 最高分 from result

-- min()
select min(&#96;StudentResult&#96;) as 最低分 from result<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="6、事务"><a href="#6、事务" class="headerlink" title="6、事务"></a>6、事务</h1><h2 id="6-1、什么是事务"><a href="#6-1、什么是事务" class="headerlink" title="6.1、什么是事务"></a>6.1、什么是事务</h2><p>==要么都成功，要么都失败==</p>
<hr>
<p>比如：一个事务包括以下两个操作1和2</p>
<p>1、A：1000元，B：200元，SQL执行，A给B转账200元</p>
<p>2、SQL执行，B收到A的钱。A：800，B：400</p>
<p>根据原子性，这个事务的两个操作1和2要么都执行成功，要么都不执行</p>
<hr>
<blockquote>
<p>事务原则：ACID原则：原子性、一致性、隔离性、持久性</p>
</blockquote>
<p><strong>原子性（Atomicity）</strong></p>
<p>事务中的操作要么发生，要么不发生。</p>
<p><strong>一致性（Consistency）</strong></p>
<p>事务前后数据的完整性必须保持一致</p>
<p><strong>隔离性（Isolation）</strong></p>
<p>多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。</p>
<p><strong>持久性（Durability）</strong></p>
<p>一个事务一旦被提交，它对数据库中数据的改变就是永久性的。</p>
<blockquote>
<p>隔离所导致的一些问题</p>
</blockquote>
<p><strong>脏读：</strong>指一个事物读取到另外一个事务未提交的数据</p>
<p><strong>不可重复读：</strong>在一个事务内读取表中的某一行数据，多次读取结果不同。（这个不一定是错误，只是某些场合不对）</p>
<p><strong>虚读（幻读）：</strong>指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致。</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 事务
-- mysql 是默认开启事务自动提交的
set autocommit &#x3D; 0  -- 关闭
set autocommit &#x3D; 1  -- 开启（默认值）

-- 手动处理事务
set autocommit &#x3D; 0  -- 关闭自动提交
-- 事务开启
start transaction  -- 标记一个事务的开始，从这个之后的sql语句 都在同一个事务内

insert XX
insert XX

-- 提交： 持久化（成功）
commit
-- 回滚：回到原来的样子（失败）
rollback
-- 事务结束
set autocommit &#x3D; 1  -- 打开自动提交，恢复默认

-- 了解
savepoint 保存点的名  -- 设置一个事务的保存点
rollback to 保存点的名  -- 回滚到保存点
release 保存点的名  -- 释放（删除）保存点<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="7、索引"><a href="#7、索引" class="headerlink" title="7、索引"></a>7、索引</h1><blockquote>
<p>MySQL官方对索引的定义为：<strong>索引（index）是帮助MySQL高效获取数据的数据结构。</strong></p>
<p><strong>索引的本质是数据结构</strong></p>
</blockquote>
<h2 id="7-1、索引的分类"><a href="#7-1、索引的分类" class="headerlink" title="7.1、索引的分类"></a>7.1、索引的分类</h2><blockquote>
<p>在一个表中，主键索引只能有一个，唯一索引可以有多个。</p>
</blockquote>
<ul>
<li>主键索引（PRIMARY KEY）<ul>
<li>唯一的标识，主键不可重复，只能有一个列作为一个主键</li>
</ul>
</li>
<li>唯一索引（UNIQUE KEY）<ul>
<li>避免重复的列出现，唯一索引可以重复，多个列都可以标识为唯一索引</li>
</ul>
</li>
<li>常规索引（KEY/INDEX）<ul>
<li>默认的索引，index。用key标识</li>
</ul>
</li>
<li>全文索引（FULLTEXT）<ul>
<li>部分数据库引擎支持。</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 索引的使用
-- 1、在创建表的时候给字段增加索引
-- 2、在创建完毕后，增加索引

-- 显示所有的索引信息
show index from student

-- 增加一个全文索引
alter table school.student add fulltext index &#96;studentName&#96;(&#96;studentName&#96;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="7-2-测试索引"><a href="#7-2-测试索引" class="headerlink" title="7.2 测试索引"></a>7.2 测试索引</h2><p><strong>索引在小数据量的时候，用处不大，但是在大数据的时候，区别十分明显！</strong></p>
<h2 id="7-3、索引原则"><a href="#7-3、索引原则" class="headerlink" title="7.3、索引原则"></a>7.3、索引原则</h2><ul>
<li>索引不是越多越好</li>
<li>不要对进程变动数据加索引</li>
<li>小数据量的表不需要加索引</li>
<li>索引一般加在常用来查询的字段上！</li>
</ul>
<blockquote>
<p>索引的数据结构</p>
</blockquote>
<ul>
<li>Hash类型的索引</li>
<li>BTree: INNODB默认的数据结构</li>
</ul>
<h1 id="8、权限管理和备份"><a href="#8、权限管理和备份" class="headerlink" title="8、权限管理和备份"></a>8、权限管理和备份</h1><blockquote>
<p>SQLyog 可视化管理</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 创建用户 create user 用户名 identified by &#39;密码&#39;
create user dutianqi identified by &#39;123456&#39;

-- 修改密码（修改当前用户密码）
set password for dutianqi &#x3D; password(&#39;123123&#39;)

-- 重命名 rename user 原名字 to 新名字
rename user dutianqi to dutianqi2

-- 用户授权 all privileges 全部的权限，库.表
grant all privileges on *.* to dutianqi2

-- 查询权限
show grants for dutianqi2  -- 查看指定用户的权限<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="9、规范数据库设计"><a href="#9、规范数据库设计" class="headerlink" title="9、规范数据库设计"></a>9、规范数据库设计</h1><p><strong>当数据库比较复杂的时候，就需要设计</strong></p>
<p>糟糕的数据库设计：</p>
<ul>
<li><p>数据冗余，浪费空间</p>
</li>
<li><p>数据库插入和删除都会麻烦、异常【拒绝使用物理外键】</p>
</li>
<li>程序的性能差</li>
</ul>
<p>良好的数据库设计</p>
<ul>
<li>节省内存空间</li>
<li>保证数据库的完整性</li>
<li>方便开发系统</li>
</ul>
<p><strong>软件开发中，关于数据库的设计</strong></p>
<ul>
<li>分析需求，分析业务和需要处理的数据库的需求</li>
<li>概要设计：设计关系图E-R图</li>
</ul>
<p><strong>设计数据库的步骤（以个人博客网站为例）</strong></p>
<ul>
<li>收集信息，分析需求<ul>
<li>用户表（用户登录注销，用户的个人信息，写博客，创建分类</li>
<li>分类表（文章分类，谁创建的）</li>
<li>文章表（文章的信息)</li>
<li>友链表（友链信息）</li>
<li>自定义表（系统信息，某个关键的字，或者一些主字段）key：value</li>
</ul>
</li>
<li>标识实体（把需求落地到实处）</li>
</ul>
<h2 id="9-2-三大范式"><a href="#9-2-三大范式" class="headerlink" title="9.2 三大范式"></a>9.2 三大范式</h2><p><strong>为什么需要数据规范化</strong></p>
<ul>
<li>信息重复</li>
<li>更新异常</li>
<li>插入异常</li>
<li>删除异常</li>
</ul>
<blockquote>
<p>三大范式（目的：规范数据库）</p>
</blockquote>
<ul>
<li><strong>第一范式（1NF，保证原子性）：</strong>要求数据库表的每一列都是不可分割的原子数据项</li>
<li><strong>第二范式（2NF）：</strong>满足第一范式，属性完全依赖于主键，消除各个非主属性的部分函数依赖。确保数据库表中的每一列都和主键相关，而不能只和主键的某一部分相关。</li>
<li><strong>第三范式（3NF）：</strong>满足第一范式和第二范式，在第二范式的基础上消除传递依赖，属性不依赖于其他非主属性。确保数据表中的每一列数据都和主键直接相关，而不能间接相关。</li>
</ul>
<p>（阿里规范要求）关联查询的表不得超过三张表</p>
<ul>
<li>考虑商业化的需求和目标（成本、用户体验），数据库的性能更加重要</li>
<li>在规范性能的时候，需要适当的考虑以下规范性</li>
<li>故意给某些表增加一些冗余的字段。（从多表查询中变为单表查询）</li>
<li>故意增加一些计算列（从大数据量降低为小数据量的查询，索引）</li>
</ul>
<h1 id="10、JDBC（重点）"><a href="#10、JDBC（重点）" class="headerlink" title="10、JDBC（重点）"></a>10、JDBC（重点）</h1><h2 id="10-1、数据库驱动"><a href="#10-1、数据库驱动" class="headerlink" title="10.1、数据库驱动"></a>10.1、数据库驱动</h2><p><strong>程序会通过数据库驱动和数据库打交道</strong></p>
<h2 id="10-2、JDBC"><a href="#10-2、JDBC" class="headerlink" title="10.2、JDBC"></a>10.2、JDBC</h2><p>SUN公司为了简化开发人员的（对数据库的统一）操作，提供了一个（Java操作数据库的）规范，俗称JDBC</p>
<p>开发人员只需掌握JDBC接口的操作即可！</p>
<p><code>java.sql</code></p>
<p><code>javax.sql</code></p>
<p>导入数据库驱动包：mysql-connector-java-5.1.47.jar</p>
<h2 id="10-3、第一个JDBC程序"><a href="#10-3、第一个JDBC程序" class="headerlink" title="10.3、第一个JDBC程序"></a>10.3、第一个JDBC程序</h2><p><strong>1. 创建测试用表</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">CREATE DATABASE jdbcStudy CHARACTER SET utf8 COLLATE utf8_general_ci;

USE jdbcStudy;

CREATE TABLE users(
	id INT PRIMARY KEY,
	NAME VARCHAR(40),
	PASSWORD VARCHAR(40),
	email VARCHAR(60),
	birthday DATE
);

INSERT INTO users(id,NAME,PASSWORD,email,birthday)
VALUES(1,&#39;zhangsan&#39;,&#39;123456&#39;,&#39;zs@sina.com&#39;,&#39;1980-12-04&#39;),
(2,&#39;lisi&#39;,&#39;123456&#39;,&#39;ls@sina.com&#39;,&#39;1981-12-04&#39;),
(3,&#39;wangwu&#39;,&#39;123456&#39;,&#39;ww@sina.com&#39;,&#39;1979-12-04&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>2、编写JDBC测试代码</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcFirstDemo</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span><span class="token class-name">SQLException</span><span class="token punctuation">&#123;</span>
        <span class="token comment">//1、加载驱动</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//固定写法，加载驱动</span>
        <span class="token comment">//2、用户信息和url</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=ture&amp;characterEncoding=utf8&amp;useSSL=true"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">"root"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">"123456"</span><span class="token punctuation">;</span>
        <span class="token comment">//3、连接成功，数据库对象 Connection 代表数据库</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//4、执行SQL的对象 Statement 执行SQL的对象</span>
        <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//5、执行SQL的对象  去 执行SQL，可能存在的结果</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from users;"</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回的结果集，结果集中封装了查询出来的所有结果</span>

        <span class="token keyword">while</span><span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"id="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"name="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"NAME"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pwd="</span><span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"PASSWORD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"email="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"EMAIL"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"birth="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"BIRTHDAY"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">//6、释放连接</span>
        resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>步骤总结：</strong></p>
<ol>
<li>加载驱动</li>
<li>连接数据库 DriverManager</li>
<li>获得执行sql的对象 s’tatement</li>
<li>获得返回的结果集</li>
<li>释放连接</li>
</ol>
<blockquote>
<p>DriverManager</p>
</blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//1、加载驱动</span>
<span class="token comment">//DriverManager.registerDriver(new com.mysql.jdbc.Driver());</span>
<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//固定写法，加载驱动；因为Driver中会注册对象，所以不用自己先注册</span>

<span class="token comment">//3、连接成功，数据库对象 Connection 代表数据库</span>
<span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
connection 代表数据库
connection.setAutoCommit(); 数据库设置自动提交 
connection.commit();  事务提交
connection.rollback();  事务回滚
数据库中可以进行的操作，在Java代码中都可以进行操作
*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>URL</p>
</blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//2、用户信息和url</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true"</span><span class="token punctuation">;</span>

<span class="token comment">/*URL格式 协议://地址:端口号/数据库名?参数1&amp;参数2&amp;参数3
-- mysql -- 3306
协议==jdbc:mysql://
地址：端口号==localhost:3306
数据库名==jdbcstudy?
问号(?)后面跟参数
参数1==useUnicode=true
参数2==characterEncoding=utf8
参数3==useSSL=true"

-- oracle -- 1521
jdbc:oracle:thin:@localhost:1521:sid
*/</span>

<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">"root"</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">"123456"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>Statement | PrepareStatement 是执行SQL的对象</p>
</blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//4、执行SQL的对象 Statement 执行SQL的对象</span>
<span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
statement.executeQuery();  //查询操作，返回ResultSet
statement.execute();  //执行任何SQL
statement.executeUpdate();  //更新、插入、删除都是用这个，返回一个受影响的行数
*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>ResultSet 查询的结果集合:封装了查询出来的所有结果</p>
</blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//5、执行SQL的对象  去 执行SQL，可能存在的结果</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from users;"</span><span class="token punctuation">;</span>
<span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回的结果集，结果集中封装了查询出来的所有结果</span>

<span class="token comment">/*
resultSet.getObject();  //在不知道列类型的情况下使用
已知列类型的形况下使用以下方法：
resultSet.getString();
resultSet.getInt();
resultSet.getFloat();
resultSet.getDate();
...
*/</span>

<span class="token comment">/*遍历，指针：
resultSet.beforeFirst();	//移动到最前面
resultSet.afterLast();	//移动到最后面
resultSet.next();	//移动到下一个数据
resultSet.previous();	//移动到前一行
resultSet.absolute(row);  //移动到指定行
*/</span>

        <span class="token keyword">while</span><span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"id="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"name="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"NAME"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pwd="</span><span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"PASSWORD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"email="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"EMAIL"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"birth="</span> <span class="token operator">+</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">"BIRTHDAY"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"================="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>释放资源</p>
</blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//6、释放连接</span>
resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//消耗资源，用完及时关掉</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="10-4、statement对象"><a href="#10-4、statement对象" class="headerlink" title="10.4、statement对象"></a>10.4、statement对象</h2><p>jdbc中的statement对象用于向数据库发送SQL语句，想完成对数据库的增删改查，只需要通过这个对象向数据库发送增删改查语句即可。</p>
<p>Statement对象的executeUpdate方法，用于向数据库发送增、删、改的SQL语句，executeUpdate执行完之后，将会返回一个整数（即增删改语句导致了数据库几行数据发生了变化）</p>
<p>Statement.executeQuery方法用于向数据库发送查询语句，executeQuery方法返回代表查询结果的ResultSet对象。</p>
<blockquote>
<p>CRUD操作-create</p>
</blockquote>
<p>使用executeUpdate(String sql)方法完成数据添加操作，示例操作：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Statement</span> st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"insert into user(...)values(...)"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> num <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeIpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"插入成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>CRUD操作-delete</p>
</blockquote>
<p>使用executeUpdate(String sql)方法完成数据删除操作，示例操作：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Statement</span> st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from user where id=1"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> num <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeIpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"删除成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>CRUD操作-update</p>
</blockquote>
<p>使用executeUpdate(String sql)方法完成数据修改操作，示例操作：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Statement</span> st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update user set name='' where name=''"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> num <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeIpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"修改成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>CRUD操作-read</p>
</blockquote>
<p>使用executeQuery(String sql)方法完成数据查询操作，示例操作：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Statement</span> st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from user where id=1"</span><span class="token punctuation">;</span>
<span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//根据获取列的数据类型，分别调用rs相应的方法映射到java对象中</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>代码实现</p>
</blockquote>
<p><strong>提取工具类</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcUtils</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> driver <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>
           <span class="token class-name">InputStream</span> in <span class="token operator">=</span>  <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"db.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>

            driver <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            url <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            username <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//驱动只用加载一次！</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> <span class="token operator">|</span> <span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//获取连接</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">//释放连接资源</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">release</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> conn<span class="token punctuation">,</span> <span class="token class-name">Statement</span> st<span class="token punctuation">,</span> <span class="token class-name">ResultSet</span> rs<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span><span class="token punctuation">&#123;</span>
             rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>st<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span><span class="token punctuation">&#123;</span>
                st<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>conn<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span><span class="token punctuation">&#123;</span>
                conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>编写增、删、改的方法，<code>executeUpdate(sql)</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span><span class="token punctuation">;</span>
<span class="token comment">//更新数据</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestUpdate</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">Statement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//获取数据库连接</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//获取SQL的执行对象</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update users set `name`='dtq', `email`='781357011@qq.com' where id=1"</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回受影响的行数</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"更新成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span><span class="token punctuation">;</span>

<span class="token comment">//插入数据</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestInsert</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">Statement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//获取数据库连接</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//获取SQL的执行对象</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"insert into users(`id`,`NAME`,`PASSWORD`,`email`,`birthday`)"</span><span class="token operator">+</span>
                    <span class="token string">"values ('4','dutianqi','123456','781357011@qq.com','2021-01-01')"</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回受影响的行数</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"插入成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span><span class="token punctuation">;</span>
<span class="token comment">//删除数据</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestDelete</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">Statement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//获取数据库连接</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//获取SQL的执行对象</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from users where id=4"</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回受影响的行数</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"删除成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>查询，<code>executeQuary(sql);</code></li>
</ol>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestSelect</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">Statement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//SQL语句</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from users where id=1"</span><span class="token punctuation">;</span>

            rs <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"NAME"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p> SQL注入</p>
</blockquote>
<p>SQL存在漏洞，会被攻击，导致数据泄露。本质是SQL语句会被拼接or，从而欺骗服务器</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SQLInject</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//login("dtq","123456");</span>

        <span class="token comment">//SQL注入</span>
        <span class="token function">login</span><span class="token punctuation">(</span><span class="token string">"'or'1=1"</span><span class="token punctuation">,</span><span class="token string">"'or'1=1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>

    <span class="token comment">//登录业务</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">Statement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//SQL语句</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from users where `NAME`='"</span><span class="token operator">+</span>username<span class="token operator">+</span><span class="token string">"'and `PASSWORD`= '"</span><span class="token operator">+</span>password<span class="token operator">+</span><span class="token string">"'"</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"NAME"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"PASSWORD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="10-5、PreparedStatement对象"><a href="#10-5、PreparedStatement对象" class="headerlink" title="10.5、PreparedStatement对象"></a>10.5、PreparedStatement对象</h2><p>PreparedStatement可以防止SQL注入，效率更好。</p>
<p>增加</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestInsert</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//获取数据库连接</span>

            <span class="token comment">//区别</span>
            <span class="token comment">//使用问号？ 占位符，代替参数</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"insert into users(id,`NAME`,`PASSWORD`,`email`,`birthday`)values(?,?,?,?,?)"</span><span class="token punctuation">;</span>   <span class="token comment">//问号？ 占位符！</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//需要一个预编译SQL语句，暂时不执行</span>

            <span class="token comment">//手动赋值</span>
            st<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            st<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"DuTianQi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            st<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            st<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"781357011@qq.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//注意点：</span>
            <span class="token comment">//sql.Date  数据库中的Date类型</span>
            <span class="token comment">//util.Date  util中的Date类型  new Date().getTime()  获得时间戳</span>
            <span class="token comment">//setDate();  封装的是sql.Date类型的参数</span>
            st<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//执行</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"插入成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>删除</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestDelete</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//获取数据库连接</span>

            <span class="token comment">//区别</span>
            <span class="token comment">//使用问号？ 占位符，代替参数</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from users where id=?"</span><span class="token punctuation">;</span>   <span class="token comment">//问号？ 占位符！</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//需要一个预编译SQL语句，暂时不执行</span>

            <span class="token comment">//手动赋值</span>
            st<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//执行</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"删除成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>更新</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestUpdate</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update users set `name`=? where id=?"</span><span class="token punctuation">;</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

            st<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"dutianqi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            st<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> i <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"更新成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>查询</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>xml<span class="token punctuation">.</span>transform<span class="token punctuation">.</span></span><span class="token class-name">Result</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestSelect</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select  * from users where id=?"</span><span class="token punctuation">;</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

            st<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//传递参数</span>

            <span class="token comment">//执行</span>
            rs <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"NAME"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>防止SQL注入</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>equsky<span class="token punctuation">.</span>demo02<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JdbcUtils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SQLInject</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">login</span><span class="token punctuation">(</span><span class="token string">"lisi"</span><span class="token punctuation">,</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> st <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            conn <span class="token operator">=</span> <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from users where `NAME`=? and `PASSWORD`=?"</span><span class="token punctuation">;</span>  <span class="token comment">//MyBatis</span>
            st <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//PreparedStatement 防止SQL注入的本质：把传递进来的参数当作字符</span>
            <span class="token comment">//假设其中存在转义字符，比如 ``,会被直接转义！</span>

            st<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            st<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

            rs <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"NAME"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"PASSWORD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=========="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>

        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">JdbcUtils</span><span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>st<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>


    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="10-6、-事务"><a href="#10-6、-事务" class="headerlink" title="10.6、 事务"></a>10.6、 事务</h2><p><strong>要么都成功，要么都失败</strong></p>
<blockquote>
<p>ACID原则</p>
</blockquote>
<p><strong>原子性：</strong>要么全部完成，要么都不完成</p>
<p><strong>一致性：</strong>总数不变</p>
<p> <strong>持久性：</strong>一旦提交不可逆。持续化到数据库。</p>
<p>隔离性产生的问题：</p>
<p>脏读：一个事务读取了另一个没有提交的事务。</p>
<p>不可重复读：在同一个事务内，重复读取表中的数据。</p>
<p>虚度（幻读）：在一个事务内，读取到了别人插入的数据，导致前后读出来的结果不一致。</p>
<blockquote>
<p>代码实现</p>
</blockquote>
<p>1、开启事务</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//关闭数据库的自动提交，会自动开启事务</span>
conn<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>2、一组业务执行完毕，提交事务</p>
<p>3、可以在catch语句中显示定义事务回滚，默认情况下，失败就会回滚</p>
<h2 id="10-7、数据库连接池"><a href="#10-7、数据库连接池" class="headerlink" title="10.7、数据库连接池"></a>10.7、数据库连接池</h2><p>数据库连接—执行完毕—释放</p>
<p>连接—释放：十分浪费系统资源</p>
<p><strong>池化技术：准备一些预先准备好的资源，需要的时候就连接预先准备好的。</strong></p>
<p>最小连接数：10</p>
<p>最大连接数：15  业务最高承载上限</p>
<p>等待超时：100ms</p>
<p>编写连接池：实现一个接口，DataSource</p>
<blockquote>
<p>开源数据源实现(拿来即用)</p>
</blockquote>
<p>DBCP</p>
<p>C3P0</p>
<p>Druid：阿里巴巴</p>
<p>使用了这些数据库连接池之后，我们在项目开发中就不用编写连接数据库的代码！</p>
<blockquote>
<p>DBCP</p>
</blockquote>
<p>需要用到的jar包</p>
<p>commons-dbcp-1.4.jar</p>
<p>commons-pool-1.6.jar</p>
<blockquote>
<p>C3P0</p>
</blockquote>
<p>需要用到的jar包</p>
<p>c3p0-0.9.5.5.jar</p>
<p>mchange-commons-java-0.2.19.jar</p>
<blockquote>
<p>结论</p>
</blockquote>
<p>无论使用什么数据源，本质还是一样的，    DataSource接口不会变，方法就不会变。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrdutq.github.io/blog/2022/01/17/JavaWeb-Tomcat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="立心 立命 继绝学 开太平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/01/17/JavaWeb-Tomcat/" class="post-title-link" itemprop="url">JavaWeb-Tomcat</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-17 18:56:41" itemprop="dateCreated datePublished" datetime="2022-01-17T18:56:41+08:00">2022-01-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-25 23:55:12" itemprop="dateModified" datetime="2020-09-25T23:55:12+08:00">2020-09-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/JavaWeb/" itemprop="url" rel="index"><span itemprop="name">JavaWeb</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
<!-- 自定义，用于添加摘要图片，文章中不显示。文章开头添加 summary_img: 链接 即可 -->
      
<!-- 自定义结束 -->
          <h1 id="JavaWeb-Tomcat"><a href="#JavaWeb-Tomcat" class="headerlink" title="JavaWeb-Tomcat"></a>JavaWeb-Tomcat</h1><p><strong>下载链接</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="http://tomcat.apache.org/">Tomcat官网</a></li>
</ul>
<h2 id="Tomcat目录层次结构"><a href="#Tomcat目录层次结构" class="headerlink" title="Tomcat目录层次结构"></a>Tomcat目录层次结构</h2><ul>
<li><p>bin: 存放启动和关闭Tomcat的脚本文件</p>
</li>
<li><p>conf: 存放Tomcat服务器的配置文件</p>
</li>
<li><p>lib: 存放Tomcat服务器的支撑jar包</p>
</li>
<li><p>logs: 存放Tomcat的日志文件</p>
</li>
<li><p>temp: 存放Tomcat运行时产生的临时文件</p>
</li>
<li><p>webapps: web应用所在的目录，即供外访问的web资源的存放目录</p>
</li>
<li><p>work: Tomcat的工作目录</p>
</li>
</ul>
<h2 id="环境的配置"><a href="#环境的配置" class="headerlink" title="环境的配置"></a>环境的配置</h2><ol>
<li><p>下载后最好解压到C盘或者D盘的根目录下。</p>
</li>
<li><p>配置环境变量</p>
<ul>
<li><p>新建变量名：CATALINA_HOME，变量值：D:\apache-tomcat-8.5.20(Tomcat的安装路径)</p>
</li>
<li><p>打开PATH，添加路径：;%CATALINA_HOME%\bin</p>
</li>
</ul>
</li>
<li><p>启动Tomcat：在Tomcat目录下的bin目录下（如E:\TOMCAT\apache-tomcat-8.5.20\bin）双击startup.bat,开启服务。<br>最后，当指令执行完毕，我们可以打开浏览器，输入<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a>,则会出现以下页面：<br><img src="https://cdn.jsdelivr.net/gh/mrdutq/cdn/images/JavaWeb/Tomcat启动成功.png" alt="Tomcat启动成功"></p>
</li>
<li><p>关闭Tomcat</p>
<ul>
<li>在bin目录下双击shutdown.bat即可关闭Tomcat。</li>
</ul>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrdutq.github.io/blog/2022/01/17/Java%E4%B8%ADprintf%E7%9A%84%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="立心 立命 继绝学 开太平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/01/17/Java%E4%B8%ADprintf%E7%9A%84%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">Java中printf的用法总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-17 18:56:41" itemprop="dateCreated datePublished" datetime="2022-01-17T18:56:41+08:00">2022-01-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-18 20:48:40" itemprop="dateModified" datetime="2022-01-18T20:48:40+08:00">2022-01-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/JAVA/" itemprop="url" rel="index"><span itemprop="name">JAVA</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
<!-- 自定义，用于添加摘要图片，文章中不显示。文章开头添加 summary_img: 链接 即可 -->
      
<!-- 自定义结束 -->
          <h1 id="printf的格式控制的完整格式："><a href="#printf的格式控制的完整格式：" class="headerlink" title="printf的格式控制的完整格式："></a>printf的格式控制的完整格式：</h1>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/blog/2022/01/17/Java%E4%B8%ADprintf%E7%9A%84%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrdutq.github.io/blog/2022/01/17/Csharp-%E5%A7%94%E6%89%98%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="立心 立命 继绝学 开太平">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/01/17/Csharp-%E5%A7%94%E6%89%98%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">C#-委托详解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-17 18:56:41" itemprop="dateCreated datePublished" datetime="2022-01-17T18:56:41+08:00">2022-01-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-18 20:47:36" itemprop="dateModified" datetime="2022-01-18T20:47:36+08:00">2022-01-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/CSharp/" itemprop="url" rel="index"><span itemprop="name">CSharp</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
<!-- 自定义，用于添加摘要图片，文章中不显示。文章开头添加 summary_img: 链接 即可 -->
      
<!-- 自定义结束 -->
          <h1 id="C-委托详解"><a href="#C-委托详解" class="headerlink" title="C#委托详解"></a>C#委托详解</h1><ul>
<li>2020年10月29日，这部分学了挺长时间，感觉听懂了，还是要多练。</li>
<li>视频教程、笔记内容来源：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV13b411b7Ht?t=220&amp;p=19">刘铁猛_C#入门详解_委托详解</a></li>
</ul>
<h2 id="什么是委托"><a href="#什么是委托" class="headerlink" title="什么是委托"></a>什么是委托</h2><ul>
<li>委托(delegate)是函数指针的“升级版”<ul>
<li>事例：C/C++中的函数指针</li>
</ul>
</li>
<li>一切皆地址<ul>
<li>变量(数据)是以某个地址为起点的一段内存中所存储的值</li>
<li>函数(算法)是以某个地址为起点的一段内存中所存储的一组机器语言指令</li>
</ul>
</li>
<li>直接调用与间接调用<ul>
<li>直接调用：通过函数名来调用函数，CPU通过函数名直接获得函数所在地址并开始执行—&gt;返回</li>
<li>间接调用：通过函数指针来调用函数，CPU通过读取函数指针存储的值获得函数所在地址并开始执行—&gt;返回</li>
</ul>
</li>
<li>Java中没有与委托相对应的功能实体<ul>
<li>C#由Java发展而来，但是C#通过委托这种数据类型保留了与C/C++函数指针相对应的功能</li>
</ul>
</li>
<li><p>委托的简单使用</p>
<ul>
<li><p>Action委托</p>
<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace DelegateExample1
&#123;
    class Program
    &#123;
        static void Main(string[] args)
        &#123;
            Calculator calculator &#x3D; new Calculator();
            Action action &#x3D; new Action(calculator.Report);
            calculator.Report();&#x2F;&#x2F;直接调用
            action.Invoke();&#x2F;&#x2F;（间接调用）Action委托的两种调用方式
            action();
            Console.ReadKey();
        &#125;
    &#125;
    class Calculator
    &#123;
        public void Report()
        &#123;
            Console.WriteLine(&quot;I have three methods&quot;);
        &#125;

        public int Add(int a , int b)
        &#123;
            int result &#x3D; a + b;
            return result;
        &#125;
        public int Sub(int a, int b)
        &#123;
            int result &#x3D; a - b;
            return result;
        &#125;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>Func委托</p>
<ul>
<li><p>Func&lt;…&gt; &lt;&gt;中放的是目标方法的参数类型</p>
<ul>
<li>如：Func<int,int,int>、Func<int,int,int,int>;最后一个int是返回值类型</li>
</ul>
<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">    namespace DelegateExample1
&#123;
    class Program
    &#123;
        static void Main(string[] args)
        &#123;
            Calculator calculator &#x3D; new Calculator();

            Func&lt;int,int,int&gt; func1&#x3D; new Func&lt;int, int, int&gt;(calculator.Add);&#x2F;&#x2F;func1 委托
            Func&lt;int, int, int&gt; func2 &#x3D; new Func&lt;int, int, int&gt;(calculator.Sub);&#x2F;&#x2F;func2 委托

            int x &#x3D; 100;
            int y &#x3D; 200;
            int z &#x3D; 0;

            z &#x3D; func1(x, y);
            Console.WriteLine(z);
            z &#x3D; func2(x, y);
            Console.WriteLine(z);
            Console.ReadKey();
        &#125;
    &#125;
    class Calculator
    &#123;
        public int Add(int a , int b)
        &#123;
            int result &#x3D; a + b;
            return result;
        &#125;
        public int Sub(int a, int b)
        &#123;
            int result &#x3D; a - b;
            return result;
        &#125;
    &#125;
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p>委托是函数指针的“升级版”，可以按照某些约束指向目标方法，帮助我们对这些方法间接调用。</p>
</li>
</ul>
</li>
</ul>
<h2 id="委托的声明-自定义委托"><a href="#委托的声明-自定义委托" class="headerlink" title="委托的声明(自定义委托)"></a>委托的声明(自定义委托)</h2><ul>
<li>委托是一种类（class），类是数据类型所以委托也是一种数据类型。</li>
<li><p>声明方式与一般的类不同，主要是为了照顾可读性和C/C++传统。</p>
<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace DelegateExample1
&#123;
    public delegate double Calc(double x, double y);
    class Program
    &#123;
        static void Main(string[] args)
        &#123;
            Calculator calculator &#x3D; new Calculator();
            Calc calc1 &#x3D; new Calc(calculator.Add);
            Calc calc2 &#x3D; new Calc(calculator.Sub);
            Calc calc3 &#x3D; new Calc(calculator.Mul);
            Calc calc4 &#x3D; new Calc(calculator.Div);

            double a &#x3D; 100;
            double b &#x3D; 200;
            double c &#x3D; 0;
            &#x2F;&#x2F;通过委托间接调用四个方法
            c &#x3D; calc1.Invoke(a,b);
            Console.WriteLine(c);
            c &#x3D; calc2.Invoke(a, b);
            Console.WriteLine(c);
            c &#x3D; calc3.Invoke(a, b);
            Console.WriteLine(c);
            c &#x3D; calc4.Invoke(a, b);
            Console.WriteLine(c);
            &#x2F;&#x2F;仿照C&#x2F;C++函数指针方式调用，不用Invoke，结果是一样的
            c &#x3D; calc1(a, b);
            Console.WriteLine(c);
            c &#x3D; calc2(a, b);
            Console.WriteLine(c);
            c &#x3D; calc3(a, b);
            Console.WriteLine(c);
            c &#x3D; calc4(a, b);
            Console.WriteLine(c);
            Console.ReadKey();
        &#125;
    &#125;
    class Calculator
    &#123;
        public double Add(double a , double b)
        &#123;
            return a+b;
        &#125;
        public double Sub(double a, double b)
        &#123;
            return a - b;
        &#125;
        public double Mul(double a, double b)
        &#123;
            return a * b;
        &#125;
        public double Div(double a, double b)
        &#123;
            return a &#x2F; b;
        &#125;
    &#125;
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>注意声明委托的位置</p>
<ul>
<li>避免写错地方结果声明成嵌套类型。</li>
<li>委托是一种类，与class平级。</li>
</ul>
</li>
<li>委托与所封装的方法必须“类型兼容”。<ul>
<li><img src="https://cdn.jsdelivr.net/gh/mrdutq/cdn/images/C#/委托与所封装的方法必须“类型兼容”.jpg" alt="委托与所封装的方法必须“类型兼容”"><ul>
<li>返回值的数据类型一致。</li>
<li>参数列表在个数和数据类型上一致（参数名不需要一样）。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="委托的一般使用"><a href="#委托的一般使用" class="headerlink" title="委托的一般使用"></a>委托的一般使用</h2><ul>
<li><p>实例：把方法当作参数传给另一个方法(你写了一个方法，这个方法有一个委托类型的参数，委托封装了一个方法，那么我们在方法体里使用传进来的委托，间接地去调用委托封装的那个方法，这样就形成了一种动态调用方法的代码结构)</p>
<ul>
<li>模板方法，“借用”指定的外部方法来产生结果(指的是：你写了一个方法，然后通过传进来的委托参数，借用指定的外部方法来产生一个结果，这就相当于在你写的方法当中有一个填空题，这个填空题的空白处，就用传进来的委托类型的参数进行填补。也就是通过传进来的委托类型的参数间接的调用指定的外部方法，这个方法一般具有返回值，当你拿到这个返回值之后，再继续执行你所写的方法后面的逻辑)<ul>
<li>相当于填空题</li>
<li>常位于代码中部</li>
<li>委托有返回值</li>
</ul>
</li>
<li><p>回调方法(callback)，调用指定的外部方法</p>
<ul>
<li>相当于流水线</li>
<li>常位于代码末尾</li>
<li>委托无返回值</li>
</ul>
<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace DelegateExample1
&#123;
    public delegate double Calc(double x, double y);
    class Program
    &#123;
        static void Main(string[] args)
        &#123;
            ProductFactory productFactory &#x3D; new ProductFactory();&#x2F;&#x2F;new一个工厂类的实例。就有了一个工厂可以生产披萨饼和玩具车
            WrapFactory wrapFactory &#x3D; new WrapFactory();&#x2F;&#x2F;new一个包装工厂的实例。就有了一个包装工厂可以对产品进行包装

            &#x2F;&#x2F;模板方法
            Func&lt;Product&gt; func1 &#x3D; new Func&lt;Product&gt;(productFactory.MakePizza);&#x2F;&#x2F;声明一个委托，没有参数，返回值类型为Product。这个委托封装生产披萨饼的方法
            Func&lt;Product&gt; func2 &#x3D; new Func&lt;Product&gt;(productFactory.MakeToyCar);

            Logger logger &#x3D; new Logger(); &#x2F;&#x2F;声明logger类的实例
            Action&lt;Product&gt; log &#x3D; new Action&lt;Product&gt;(logger.Log);

            &#x2F;&#x2F;调用模板方法
            Box box1 &#x3D; wrapFactory.WrapProduct(func1,log); &#x2F;&#x2F;包装产品。包装工厂.包装产品。返回值类型为Box，用一个Box类型的box1变量接收返回值。
            Box box2 &#x3D; wrapFactory.WrapProduct(func2,log);

            &#x2F;&#x2F;打印生产好的产品
            Console.WriteLine(box1.Product.Name);
            Console.WriteLine(box2.Product.Name);
            Console.ReadKey();
        &#125;
    &#125;

    class Logger&#x2F;&#x2F;记录程序的工作状态；把log方法以回调方法的形式传进模板方法里
    &#123;
        public void Log(Product product)
        &#123;
            Console.WriteLine(&quot;Product&#39;&#123;0&#125;&#39;created at&#123;1&#125;.Price is &#123;2&#125;&quot;,
            product.Name,DateTime.UtcNow,product.Price);&#x2F;&#x2F;UtcNow,不带时区的时间
        &#125;
    &#125;

    class Product&#x2F;&#x2F;产品类，产品名字
    &#123;
        public string Name &#123; get; set; &#125;
        public double Price &#123; get; set; &#125;
    &#125;
    class Box&#x2F;&#x2F;包装箱，有一个属性说明箱子里包装的产品
    &#123;
        public Product Product &#123; get; set; &#125;
    &#125;
    class WrapFactory&#x2F;&#x2F;包装工厂吗，负责把产品包上箱子
    &#123;
        public Box WrapProduct(Func&lt;Product&gt; getProduct,Action&lt;Product&gt; logCallback)&#x2F;&#x2F;模板方法，接收一个委托类型的参数，func委托，封装的方法能返回一个product类型的对象。对于没有返回值的方法，用Action委托，接收的类型参数为Product，定义一个委托类型的参数logCallback
        &#123;
            Box box &#x3D; new Box();&#x2F;&#x2F;有一个箱子
            Product product &#x3D; getProduct.Invoke();&#x2F;&#x2F;调用完getProduct.Invoke()会得到一个Product类型的对象，赋给product
            if(product.Price&gt;&#x3D;50)&#x2F;&#x2F;如果产品价格大于50元就触发log
            &#123;
                logCallback(product);
            &#125;
            box.Product &#x3D; product;&#x2F;&#x2F;把产品装进箱子里
            return box;&#x2F;&#x2F;返回这个箱子
        &#125;
    &#125;
    class ProductFactory&#x2F;&#x2F;生产产品的工厂
    &#123;
        public Product MakePizza()&#x2F;&#x2F;产品：披萨饼
        &#123;
            Product product &#x3D; new Product();
            product.Name &#x3D; &quot;Pizza&quot;;
            product.Price &#x3D; 12;
            return product;
        &#125;
        public Product MakeToyCar()&#x2F;&#x2F;产品：玩具车
        &#123;
            Product product &#x3D; new Product();
            product.Name &#x3D; &quot;Toy Car&quot;;
            product.Price &#x3D; 100;
            return product;
        &#125;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>注意：难精通+易使用+功能强大的东西，一旦被滥用则后果非常严重</p>
<ul>
<li>缺点1：这是一种方法级别的紧耦合，现实工作中要慎之又慎。</li>
<li>缺点2：使可读性下降、debug的难度增加。</li>
<li>缺点3：把委托回调、异步调用和多线程纠缠在一起，会让代码变得难以阅读和维护。</li>
<li>缺点4：委托使用不当有可能造成内存泄漏和程序性能下降。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="委托的高级使用"><a href="#委托的高级使用" class="headerlink" title="委托的高级使用"></a>委托的高级使用</h2><ul>
<li>多播(multicast)委托</li>
</ul>
<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace MulticastDelegateExample
&#123;
    class Program
    &#123;
        static void Main(string[] args)
        &#123;
            &#x2F;&#x2F;使用委托调用DoHomework()
            &#x2F;&#x2F;首先创建几个学生的实例stu1、stu2、stu3
            Student stu1 &#x3D; new Student() &#123; ID &#x3D; 1, PenColor &#x3D; ConsoleColor.Yellow &#125;;
            Student stu2 &#x3D; new Student() &#123; ID &#x3D; 2, PenColor &#x3D; ConsoleColor.Green &#125;;
            Student stu3 &#x3D; new Student() &#123; ID &#x3D; 3, PenColor &#x3D; ConsoleColor.Red &#125;;
            &#x2F;&#x2F;然后创建几个委托
            Action action1 &#x3D; new Action(stu1.DoHomework);
            Action action2 &#x3D; new Action(stu2.DoHomework);
            Action action3 &#x3D; new Action(stu3.DoHomework);
            &#x2F;&#x2F;调用这几个委托，与之前讲的委托相同；单播委托
            &#x2F;&#x2F;            action1.Invoke();
            &#x2F;&#x2F;            action2.Invoke();
            &#x2F;&#x2F;            action3.Invoke();
            &#x2F;&#x2F;多播委托；用一个委托封装多个方法。执行顺序按封装的顺序
            action1 +&#x3D; action2;&#x2F;&#x2F;相当于把action2合并到action1里面
            action1 +&#x3D; action3;&#x2F;&#x2F;action1里面就封装了三个方法
            action1.Invoke();

        &#125;
    &#125;

    class Student
    &#123;
        public int ID &#123; get; set; &#125;
        public ConsoleColor PenColor &#123; get; set; &#125;

        public void DoHomework()
        &#123;
            for (int i &#x3D; 0; i &lt; 5; i++)
            &#123;
                Console.ForegroundColor &#x3D; this.PenColor;
                Console.WriteLine(&quot;Student &#123;0&#125; doing homework &#123;1&#125; hour(s).&quot;, this.ID, i);
                Thread.Sleep(1000);
            &#125;
        &#125;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>隐式异步调用<ul>
<li>同步与异步的简介<ul>
<li>中英文的语言差异</li>
<li>同步：你做完了我（在你的基础上）接着做</li>
<li>异步：咱们两个同时做（相当于汉语中的“同步进行”）</li>
</ul>
</li>
<li>同步调用与异步调用的对比<ul>
<li>每一个运行的程序是一个进程（process）</li>
<li>每个进程可以有一个或者多个线程（thread）</li>
<li>同步调用是在同一线程内</li>
<li>异步调用的底层机理是多线程</li>
<li>串行==同步==单线程；并行==异步==多线程</li>
</ul>
</li>
<li>隐式多线程 v.s. 显式多线程<ul>
<li>直接同步调用：使用方法名</li>
<li>间接同步调用：使用单播/多播委托的Invoke方法</li>
<li>隐式异步调用：使用委托的BeginInvoke</li>
<li>显式异步调用：使用Thread或Task</li>
</ul>
</li>
</ul>
</li>
<li>应该适时地使用接口（interface）取代一些对委托的使用<ul>
<li>Java完全地使用接口取代了委托的功能，即Java没有与C#中委托相对应的功能实体。</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace MulticastDelegateExample
&#123;
    class Program
    &#123;
        static void Main(string[] args)
        &#123;
            &#x2F;&#x2F;使用委托调用DoHomework()
            &#x2F;&#x2F;首先创建几个学生的实例stu1、stu2、stu3
            Student stu1 &#x3D; new Student() &#123; ID &#x3D; 1, PenColor &#x3D; ConsoleColor.Yellow &#125;;
            Student stu2 &#x3D; new Student() &#123; ID &#x3D; 2, PenColor &#x3D; ConsoleColor.Green &#125;;
            Student stu3 &#x3D; new Student() &#123; ID &#x3D; 3, PenColor &#x3D; ConsoleColor.Red &#125;;

            &#x2F;&#x2F;直接同步调用
            stu1.DoHomework();
            stu2.DoHomework();
            stu3.DoHomework();
&#x2F;&#x2F; 多播委托也是同步调用
            &#x2F;&#x2F;间接同步调用
        &#x2F;&#x2F;    Action action1 &#x3D; new Action(stu1.DoHomework);
        &#x2F;&#x2F;    Action action2 &#x3D; new Action(stu2.DoHomework);
        &#x2F;&#x2F;    Action action3 &#x3D; new Action(stu3.DoHomework);

        &#x2F;&#x2F;    action1.Invoke();
        &#x2F;&#x2F;    action2.Invoke();
        &#x2F;&#x2F;    action3.Invoke();
            &#x2F;&#x2F;使用委托进行隐式异步调用(最重要-beginInvoke())
            &#x2F;&#x2F;Action action1 &#x3D; new Action(stu1.DoHomework);
            &#x2F;&#x2F;Action action2 &#x3D; new Action(stu2.DoHomework);
            &#x2F;&#x2F;Action action3 &#x3D; new Action(stu3.DoHomework);
            &#x2F;&#x2F;BeginInvoke()会自动生成一个分支线程，然后在分支线程里调用它封装的方法。
            &#x2F;&#x2F;action1.BeginInvoke(null,null);&#x2F;&#x2F;参数是方法用完之后执行的后续操作(回调方法)，null指不进行其他操作。
            &#x2F;&#x2F;action2.BeginInvoke(null, null);
            &#x2F;&#x2F;action3.BeginInvoke(null, null);

            &#x2F;&#x2F;用Thread进行显式异步调用(动手声明多线程)
            &#x2F;&#x2F;创建三个线程thread1、thread2、thread3
            &#x2F;&#x2F;Thread thread1 &#x3D; new Thread(stu1.DoHomework);
            &#x2F;&#x2F;Thread thread2 &#x3D; new Thread(stu2.DoHomework);
            &#x2F;&#x2F;Thread thread3 &#x3D; new Thread(stu3.DoHomework);
            &#x2F;&#x2F;启动这三个线程
            &#x2F;&#x2F;thread1.Start();
            &#x2F;&#x2F;thread2.Start();
            &#x2F;&#x2F;thread3.Start();

            &#x2F;&#x2F;用Task进行显式异步调用(多线程)
            &#x2F;&#x2F;Task task1 &#x3D; new Task(new Action(stu1.DoHomework));
            &#x2F;&#x2F;Task task2 &#x3D; new Task(new Action(stu2.DoHomework));
            &#x2F;&#x2F;Task task3 &#x3D; new Task(new Action(stu3.DoHomework));

            &#x2F;&#x2F;task1.Start();
            &#x2F;&#x2F;task2.Start();
            &#x2F;&#x2F;task3.Start();

            for(int i &#x3D; 0; i &lt;10; i++)
            &#123;
                Console.ForegroundColor &#x3D; ConsoleColor.Cyan;
                Console.WriteLine(&quot;Main thread &#123;0&#125;&quot;,i);
                Thread.Sleep(1000);
            &#125;
        &#125;
    &#125;

    class Student
    &#123;
        public int ID &#123; get; set; &#125;
        public ConsoleColor PenColor &#123; get; set; &#125;

        public void DoHomework()
        &#123;
            for (int i &#x3D; 0; i &lt; 5; i++)
            &#123;
                Console.ForegroundColor &#x3D; this.PenColor;
                Console.WriteLine(&quot;Student &#123;0&#125; doing homework &#123;1&#125; hour(s).&quot;, this.ID, i);
                Thread.Sleep(1000);
            &#125;
        &#125;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/7/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/blog/page/9/">9</a><a class="extend next" rel="next" href="/blog/page/9/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description">立心 立命 继绝学 开太平</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/mrdutq" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;mrdutq" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:dutianqi9911@163.com" title="E-Mail → mailto:dutianqi9911@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      学习链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://equsky.cn/" title="https:&#x2F;&#x2F;equsky.cn" rel="noopener" target="_blank">Jason's Blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://51world.win/" title="https:&#x2F;&#x2F;51world.win" rel="noopener" target="_blank">时间的朋友</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://linwhitehat.github.io/Blog/about" title="https:&#x2F;&#x2F;linwhitehat.github.io&#x2F;Blog&#x2F;about" rel="noopener" target="_blank">林深时见璐</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ebook2.lorefree.com/" title="https:&#x2F;&#x2F;ebook2.lorefree.com" rel="noopener" target="_blank">Ebook</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.ethanloo.top/" title="https:&#x2F;&#x2F;www.ethanloo.top" rel="noopener" target="_blank">Ethan</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.baidu.com/" title="https:&#x2F;&#x2F;www.baidu.com" rel="noopener" target="_blank">baidu</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.google.com/" title="https:&#x2F;&#x2F;www.google.com" rel="noopener" target="_blank">google</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.youtube.com/" title="https:&#x2F;&#x2F;www.youtube.com" rel="noopener" target="_blank">youtube</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="/blog/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>

<script src="/blog/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  















    <div id="pjax">
  

  

    </div>
</body>
</html>
